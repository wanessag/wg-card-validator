function cardValidator(cardNumber) {
  isValid(cardNumber);
  let luhnAlg = toNum(cardNumber);
  return luhnAlg(cardNumber);
}

function isValidCard(cardNumber) {
  if (!cardNumber) {
    throw new Error("Insira uma sequência de 16 dígitos.");
  }
  if (typeof cardNumber === "string"){
    throw new Error("Você deve inserir apenas números.");
  }
  for (let nCard of cardNumber.toString()) {
    if (num.charCodeAt() < 48 || num.charCodeAt() > 57) {
      throw new Error("Este cartão está inválido.");
    }
  }
  if (cardNumber.toString().length === 1 || numCard.toString().length > 16) {
    throw new Error("Dados incorretos, digite novamente.");
    }
  }

  function toNum(cardNumber){
  let number = cardNumber.split('').reverse();
  let arrayNum = [];
  for (let i in number) {
    arrayNum.push(parseInt(number[i]));
  }
  return arrayNum;
  }
    }

  function luhnAlg(cardVerify){
  for (i = 0; i < number.length; i++) {
    number[i] = parseInt(number[i]);
    if(i % 2 === 1){
    number[i] *= 2;
    if (number[i] >= 10) number[i] -= 9;
    }
    cardSum += number[i];
    }
  }

  let cardSum = 0;
  if (cardSum % 10 === 0) {
    return true;
  } else {
    return false;
  }
}

module.exports.cardValidator = cardValidator;
