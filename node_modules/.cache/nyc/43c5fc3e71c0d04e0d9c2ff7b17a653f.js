var cov_1cb9np3qsq=function(){var path="/Users/wanessaguimaraes/Documents/Laboratoria/card-validator/index.js",hash="e072d865d9577e1d8582fc66f252914bbdc002b2",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"/Users/wanessaguimaraes/Documents/Laboratoria/card-validator/index.js",statementMap:{"0":{start:{line:2,column:2},end:{line:2,column:26}},"1":{start:{line:3,column:16},end:{line:3,column:33}},"2":{start:{line:4,column:2},end:{line:4,column:29}},"3":{start:{line:8,column:2},end:{line:10,column:3}},"4":{start:{line:9,column:4},end:{line:9,column:59}},"5":{start:{line:11,column:2},end:{line:13,column:3}},"6":{start:{line:12,column:4},end:{line:12,column:57}},"7":{start:{line:14,column:2},end:{line:18,column:3}},"8":{start:{line:15,column:4},end:{line:17,column:5}},"9":{start:{line:16,column:6},end:{line:16,column:52}},"10":{start:{line:19,column:2},end:{line:21,column:5}},"11":{start:{line:20,column:4},end:{line:20,column:59}},"12":{start:{line:25,column:15},end:{line:25,column:56}},"13":{start:{line:27,column:17},end:{line:27,column:19}},"14":{start:{line:28,column:2},end:{line:30,column:3}},"15":{start:{line:29,column:4},end:{line:29,column:39}},"16":{start:{line:31,column:2},end:{line:31,column:18}},"17":{start:{line:35,column:2},end:{line:41,column:3}},"18":{start:{line:36,column:4},end:{line:40,column:5}},"19":{start:{line:37,column:6},end:{line:37,column:88}},"20":{start:{line:39,column:6},end:{line:39,column:40}},"21":{start:{line:43,column:16},end:{line:43,column:17}},"22":{start:{line:44,column:2},end:{line:48,column:3}},"23":{start:{line:45,column:4},end:{line:45,column:16}},"24":{start:{line:47,column:4},end:{line:47,column:17}},"25":{start:{line:51,column:0},end:{line:51,column:45}}},fnMap:{"0":{name:"cardValidator",decl:{start:{line:1,column:9},end:{line:1,column:22}},loc:{start:{line:1,column:35},end:{line:5,column:1}},line:1},"1":{name:"isValidCard",decl:{start:{line:7,column:9},end:{line:7,column:20}},loc:{start:{line:7,column:33},end:{line:22,column:3}},line:7},"2":{name:"toNum",decl:{start:{line:24,column:11},end:{line:24,column:16}},loc:{start:{line:24,column:28},end:{line:32,column:3}},line:24},"3":{name:"luhnAlg",decl:{start:{line:34,column:11},end:{line:34,column:18}},loc:{start:{line:34,column:30},end:{line:49,column:1}},line:34}},branchMap:{"0":{loc:{start:{line:8,column:2},end:{line:10,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:10,column:3}},{start:{line:8,column:2},end:{line:10,column:3}}],line:8},"1":{loc:{start:{line:11,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:11,column:2},end:{line:13,column:3}},{start:{line:11,column:2},end:{line:13,column:3}}],line:11},"2":{loc:{start:{line:15,column:4},end:{line:17,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:17,column:5}},{start:{line:15,column:4},end:{line:17,column:5}}],line:15},"3":{loc:{start:{line:15,column:8},end:{line:15,column:54}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:29}},{start:{line:15,column:33},end:{line:15,column:54}}],line:15},"4":{loc:{start:{line:19,column:2},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:2},end:{line:21,column:5}},{start:{line:19,column:2},end:{line:21,column:5}}],line:19},"5":{loc:{start:{line:19,column:6},end:{line:19,column:74}},type:"binary-expr",locations:[{start:{line:19,column:6},end:{line:19,column:40}},{start:{line:19,column:44},end:{line:19,column:74}}],line:19},"6":{loc:{start:{line:36,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:36,column:4},end:{line:40,column:5}},{start:{line:36,column:4},end:{line:40,column:5}}],line:36},"7":{loc:{start:{line:44,column:2},end:{line:48,column:3}},type:"if",locations:[{start:{line:44,column:2},end:{line:48,column:3}},{start:{line:44,column:2},end:{line:48,column:3}}],line:44}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},_coverageSchema:"d34fc3e6b8297bcde183f5492bcb8fcb36775295"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();function cardValidator(cardNumber){cov_1cb9np3qsq.f[0]++;cov_1cb9np3qsq.s[0]++;isValidCard(cardNumber);let luhnAlg=(cov_1cb9np3qsq.s[1]++,toNum(cardNumber));cov_1cb9np3qsq.s[2]++;return luhnAlg(cardVerify);}function isValidCard(cardNumber){cov_1cb9np3qsq.f[1]++;cov_1cb9np3qsq.s[3]++;if(!cardNumber){cov_1cb9np3qsq.b[0][0]++;cov_1cb9np3qsq.s[4]++;throw new Error("Insira uma sequência de 16 dígitos.");}else{cov_1cb9np3qsq.b[0][1]++;}cov_1cb9np3qsq.s[5]++;if(typeof cardNumber==="string"){cov_1cb9np3qsq.b[1][0]++;cov_1cb9np3qsq.s[6]++;throw new Error("Você deve inserir apenas números.");}else{cov_1cb9np3qsq.b[1][1]++;}cov_1cb9np3qsq.s[7]++;for(let nCard of cardNumber.toString()){cov_1cb9np3qsq.s[8]++;if((cov_1cb9np3qsq.b[3][0]++,num.charCodeAt()<48)||(cov_1cb9np3qsq.b[3][1]++,num.charCodeAt()>57)){cov_1cb9np3qsq.b[2][0]++;cov_1cb9np3qsq.s[9]++;throw new Error("Este cartão está inválido.");}else{cov_1cb9np3qsq.b[2][1]++;}}cov_1cb9np3qsq.s[10]++;if((cov_1cb9np3qsq.b[5][0]++,cardNumber.toString().length===1)||(cov_1cb9np3qsq.b[5][1]++,numCard.toString().length>16)){cov_1cb9np3qsq.b[4][0]++;cov_1cb9np3qsq.s[11]++;throw new Error("Dados incorretos, digite novamente.");}else{cov_1cb9np3qsq.b[4][1]++;}}function toNum(cardNumber){cov_1cb9np3qsq.f[2]++;let number=(cov_1cb9np3qsq.s[12]++,cardNumber.toString().split('').reverse());let arrayNum=(cov_1cb9np3qsq.s[13]++,[]);cov_1cb9np3qsq.s[14]++;for(let i in number){cov_1cb9np3qsq.s[15]++;arrayNum.push(parseInt(number[i]));}cov_1cb9np3qsq.s[16]++;return arrayNum;}function luhnAlg(cardVerify){cov_1cb9np3qsq.f[3]++;cov_1cb9np3qsq.s[17]++;for(let i=1;i<cardVerify.length;i=i+2){cov_1cb9np3qsq.s[18]++;if(cardVerify[i]*2>9){cov_1cb9np3qsq.b[6][0]++;cov_1cb9np3qsq.s[19]++;cardVerify[i]=parseInt(cardVerify[i]*2/10)+cardVerify[i]*2%10;}else{cov_1cb9np3qsq.b[6][1]++;cov_1cb9np3qsq.s[20]++;cardVerify[i]=cardVerify[i]*2;}}let cardSum=(cov_1cb9np3qsq.s[21]++,0);cov_1cb9np3qsq.s[22]++;if(cardSum%10===0){cov_1cb9np3qsq.b[7][0]++;cov_1cb9np3qsq.s[23]++;return true;}else{cov_1cb9np3qsq.b[7][1]++;cov_1cb9np3qsq.s[24]++;return false;}}cov_1cb9np3qsq.s[25]++;module.exports.cardValidator=cardValidator;